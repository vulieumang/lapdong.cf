<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ai L√† Tri·ªáu Ph√∫ - Pixel Edition</title>
    <style>
        :root {
            --bg: #0f172a;
            --panel: #1e293b;
            --line: #334155;
            --txt: #e2e8f0;
            --accent: #eab308;
            --blue: #3b82f6;
        }

        body {
            margin: 0;
            background: radial-gradient(circle at center, #020617, #0f172a);
            color: var(--txt);
            font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
        }

        .main-layout {
            display: flex;
            background: #1e293b;
            border: 1px solid var(--line);
            border-radius: 20px;
            box-shadow: 0 0 80px rgba(37, 99, 235, 0.15);
            overflow: hidden;
            width: 95%;
            max-width: 1100px;
            min-height: 600px;
        }

        /* Left Side: Game */
        .game-area {
            flex: 1;
            padding: 40px;
            position: relative;
            background: radial-gradient(circle at 50% 30%, #293548, #1e293b);
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        /* Right Side: Ladder */
        .ladder-area {
            width: 240px;
            background: #0f172a;
            border-left: 1px solid var(--line);
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        h1 {
            color: var(--blue);
            text-shadow: 0 0 15px rgba(59, 130, 246, 0.5);
            margin: 0 0 5px;
            text-align: center;
        }

        .sub-header {
            color: #94a3b8;
            margin-bottom: 30px;
            text-align: center;
        }

        .question-box {
            background: linear-gradient(180deg, rgba(15, 23, 42, 0.8), rgba(15, 23, 42, 0.6));
            border: 2px solid #5784ba;
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
            font-size: 22px;
            font-weight: 600;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.2);
            color: #fff;
        }

        .answers-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .answer-btn {
            background: #0f172a;
            border: 1px solid #475569;
            padding: 15px 20px;
            border-radius: 50px;
            /* Pill shape */
            color: #cbd5e1;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: left;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .answer-btn:hover {
            background: #eab308;
            border-color: #facc15;
            color: #000;
            font-weight: 600;
        }

        .answer-btn .opt {
            color: #eab308;
            font-weight: 700;
        }

        .answer-btn:hover .opt {
            color: #000;
        }

        .answer-btn.correct {
            background: #22c55e !important;
            border-color: #22c55e !important;
            color: #fff !important;
            animation: flash 0.5s infinite alternate;
        }

        .answer-btn.correct .opt {
            color: #fff;
        }

        .answer-btn.wrong {
            background: #991b1b !important;
            border-color: #ef4444 !important;
        }

        @keyframes flash {
            from {
                opacity: 1;
            }

            to {
                opacity: 0.7;
            }
        }

        .feedback {
            text-align: center;
            margin-top: 20px;
            font-size: 18px;
            min-height: 28px;
            font-weight: 500;
        }

        .feedback.success {
            color: #4ade80;
            text-shadow: 0 0 10px rgba(74, 222, 128, 0.4);
        }

        .feedback.fail {
            color: #f87171;
        }

        /* Ladder List */
        .ladder {
            list-style: none;
            padding: 0;
            margin: 0;
            font-size: 13px;
        }

        .ladder li {
            padding: 6px 12px;
            border-radius: 6px;
            color: #64748b;
            display: flex;
            justify-content: space-between;
            margin-bottom: 2px;
        }

        .ladder li.active {
            background: #eab308;
            color: #0f172a;
            font-weight: 700;
            box-shadow: 0 0 15px rgba(234, 179, 8, 0.5);
        }

        .ladder li.passed {
            color: #94a3b8;
        }

        .ladder li .num {
            width: 24px;
        }

        .controls {
            text-align: center;
            margin-top: 30px;
        }

        .action-btn {
            background: linear-gradient(to right, #eab308, #ca8a04);
            color: #fff;
            border: none;
            padding: 14px 40px;
            border-radius: 99px;
            font-weight: 700;
            font-size: 18px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(234, 179, 8, 0.4);
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(234, 179, 8, 0.6);
        }

        .home-link {
            position: absolute;
            top: 25px;
            left: 30px;
            text-decoration: none;
            font-size: 24px;
        }

        @media (max-width: 800px) {
            .main-layout {
                flex-direction: column-reverse;
                width: 100%;
                min-height: 100vh;
                border-radius: 0;
            }

            .ladder-area {
                width: 100%;
                flex-direction: row;
                padding: 10px;
                overflow-x: auto;
                border-left: none;
                border-bottom: 1px solid var(--line);
            }

            .ladder {
                display: flex;
                gap: 10px;
                flex-direction: row-reverse;
            }

            .ladder li {
                font-size: 12px;
                padding: 4px 8px;
                white-space: nowrap;
            }

            .game-area {
                padding: 20px;
            }

            .answers-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Background Animation */
        .bg-anim {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100vw;
            height: 100vh;
            z-index: -1;
            overflow: hidden;
            pointer-events: none;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .rays {
            position: absolute;
            width: 200vmax;
            height: 200vmax;
            background: repeating-conic-gradient(from 0deg,
                    rgba(59, 130, 246, 0.05) 0deg 10deg,
                    rgba(30, 41, 59, 0) 10deg 20deg);
            animation: rotate 60s linear infinite;
        }

        .core-glow {
            position: absolute;
            width: 800px;
            height: 800px;
            background: radial-gradient(circle, rgba(37, 99, 235, 0.15) 0%, rgba(15, 23, 42, 0) 70%);
            animation: pulse-glow 4s ease-in-out infinite alternate;
        }

        @keyframes rotate {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        @keyframes pulse-glow {
            from {
                opacity: 0.5;
                transform: scale(0.9);
            }

            to {
                opacity: 1;
                transform: scale(1.1);
            }
        }
    </style>
</head>

<body>
    <div class="bg-anim">
        <div class="rays"></div>
        <div class="core-glow"></div>
    </div>

    <div class="main-layout">
        <div class="game-area">
            <a href="index.html" class="home-link" title="Tr·ªü v·ªÅ">üè†</a>
            <h1>AI L√Ä TRI·ªÜU PH√ö</h1>
            <div class="sub-header" id="statusText">C√¢u h·ªèi 1/15</div>

            <div class="question-box" id="qText">
                ƒêang t·∫£i d·ªØ li·ªáu...
            </div>

            <div class="answers-grid" id="answersGrid">
                <button class="answer-btn" onclick="selectAnswer(0)"><span class="opt">A</span> <span
                        class="txt">...</span></button>
                <button class="answer-btn" onclick="selectAnswer(1)"><span class="opt">B</span> <span
                        class="txt">...</span></button>
                <button class="answer-btn" onclick="selectAnswer(2)"><span class="opt">C</span> <span
                        class="txt">...</span></button>
                <button class="answer-btn" onclick="selectAnswer(3)"><span class="opt">D</span> <span
                        class="txt">...</span></button>
            </div>

            <div class="feedback" id="feedback"></div>

            <div class="controls" id="controls" style="display:none">
                <button class="action-btn" id="btnNext">Ti·∫øp t·ª•c ‚ûú</button>
            </div>
        </div>

        <div class="ladder-area">
            <h3 style="color:var(--accent); margin:0 0 15px; text-align:center; font-size:16px">M·ª®C TH∆Ø·ªûNG</h3>
            <ul class="ladder" id="ladderList">
                <!-- JS will populate -->
            </ul>
        </div>
    </div>

    <!-- Audio Placeholders (using free simplistic audio URLs or just empty for now, user can replace) -->
    <!-- We will simulate "Aplause" with a visual effect if no audio is available, but for now let's add audio tags -->
    <audio id="sfxCorrect" src="https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3"></audio>
    <audio id="sfxWrong" src="https://assets.mixkit.co/active_storage/sfx/2003/2003-preview.mp3"></audio>
    <audio id="sfxWin" src="https://assets.mixkit.co/active_storage/sfx/2019/2019-preview.mp3"></audio>
    <!-- Background music (loop) -->
    <audio id="bgMusic" loop src="https://assets.mixkit.co/active_storage/sfx/123/123-preview.mp3"></audio>
    <!-- Note: These are example URLs (free placeholders). Ideally local files. -->

    <script>
        const BANK = [
            // D·ªÖ (1-10) - Funny/Riddles
            { q: "Con g√¨ c√†ng to c√†ng nh·ªè?", a: ["Con voi", "Con cua", "Con ki·∫øn", "Con heo"], c: 1, e: "Con cua c√≥ c√°i c√†ng :v" },
            { q: "C√°i g√¨ ƒëen khi b·∫°n mua n√≥, ƒë·ªè khi d√πng n√≥, v√† x√°m khi v·ª©t n√≥ ƒëi?", a: ["Than ƒë√°", "Qu·∫£ m·∫≠n", "C√°i b√∫t ch√¨", "M√°u"], c: 0, e: "Than ƒë√° n∆∞·ªõng BBQ!" },
            { q: "B·ªánh g√¨ b√°c sƒ© b√≥ tay?", a: ["G√£y tay", "G√£y ch√¢n", "ƒêau ƒë·∫ßu", "S√¢u rƒÉng"], c: 0, e: "B√≥ b·ªôt ch·ª© l√†m g√¨!" },
            { q: "C√°i g√¨ tay tr√°i c·∫ßm ƒë∆∞·ª£c c√≤n tay ph·∫£i c·∫ßm kh√¥ng ƒë∆∞·ª£c?", a: ["C√¢y b√∫t", "C√°i th√¨a", "C√πi ch·ªè tay ph·∫£i", "C√πi ch·ªè tay tr√°i"], c: 2, e: "ƒê·ªë b·∫°n c·∫ßm ƒë∆∞·ª£c ƒë·∫•y!" },
            { q: "T·ª´ n√†o trong ti·∫øng Vi·ªát c√≥ 9 t·ª´ h?", a: ["Ch√≠nh", "H√†nh", "Ch√≠nh Chinh", "H·∫°nh"], c: 0, e: "C-h-√≠-n-h (ch√≠n - h)" },
            { q: "C√†ng ch∆°i c√†ng ra n∆∞·ªõc?", a: ["ƒê√°nh b√†i", "ƒê√°nh c·ªù", "ƒê√° b√≥ng", "B∆°i l·ªôi"], c: 1, e: "C·ªù t∆∞·ªõng/C·ªù vua => ƒêi u·ªëng n∆∞·ªõc (N∆∞·ªõc ƒëi)" },
            { q: "C√≥ 1 ƒë√†n chim ƒë·∫≠u tr√™n c√†nh, ng∆∞·ªùi th·ª£ sƒÉn b·∫Øn c√°i r·∫ßm. H·ªèi ch·∫øt m·∫•y con?", a: ["1", "15", "0", "C·∫£ ƒë√†n"], c: 1, e: "B·∫Øn c√°i r·∫ßm l√† R·∫±m (15) :))" },
            { q: "Con g√¨ ƒë·∫ßu d√™ m√¨nh ·ªëc?", a: ["Con d·ªëc", "Con d√™", "Con ·ªëc s√™n", "√°i ch√† ch√†"], c: 0, e: "Con D·ªëc (ƒê·∫ßu D√™, M√¨nh ·ªêc)" },
            { q: "V·ª´a b·∫±ng m·ªôt th∆∞·ªõc m√† b∆∞·ªõc kh√¥ng qua?", a: ["C√°i c·ª≠a", "C√°i ch√¢n", "C√°i b√≥ng", "S·ª£i d√¢y"], c: 2, e: "ƒê·ªë b∆∞·ªõc qua ƒë∆∞·ª£c c√°i b√≥ng c·ªßa m√¨nh!" },
            { q: "C√°i g√¨ ch·∫∑t kh√¥ng ƒë·ª©t, b·ª©t kh√¥ng r·ªùi, ph∆°i kh√¥ng kh√¥, ƒë·ªët kh√¥ng ch√°y?", a: ["N∆∞·ªõc", "S·ª£i d√¢y s·∫Øt", "L·ª≠a", "T√¨nh y√™u"], c: 0, e: "Ch√©m n∆∞·ªõc gi·ªØa d√≤ng.." },

            // Trung b√¨nh (11-20) - Funny/Logic
            { q: "B√† ƒë√≥ s·∫° l√∫a ch·∫øt, h·ªèi t·∫°i sao b·∫£ ch·∫øt?", a: ["B·∫£ ng·ªô ƒë·ªôc", "B·∫£ b·ªã r·∫Øn c·∫Øn", "B√≤ ƒë√°", "T√© ru·ªông"], c: 2, e: "B√† ƒë√≥ l√† B√≤ ƒë√° =))" },
            { q: "M√¥n g√¨ c√†ng th·∫Øng c√†ng thua?", a: ["ƒêua xe", "ƒêua ng·ª±a", "ƒêua xe ƒë·∫°p", "K√©o co"], c: 2, e: "Xe ƒë·∫°p th·∫Øng (phanh) l·∫°i l√† thua ng∆∞·ªùi ta ch·∫°y m·∫•t r·ªìi!" },
            { q: "M·ªôt ly thu·ª∑ tinh ƒë·ª±ng ƒë·∫ßy n∆∞·ªõc, l√†m sao l·∫•y n∆∞·ªõc d∆∞·ªõi ƒë√°y ly m√† kh√¥ng ƒë·ªï ra ngo√†i?", a: ["D√πng ·ªëng h√∫t", "ƒê·∫≠p b·ªÉ ly", "U·ªëng h·∫øt", "ƒê·ª£i b·ªëc h∆°i"], c: 0, e: "D√πng ·ªëng h√∫t l√† h√∫t ƒë∆∞·ª£c ƒë√°y li·ªÅn." },
            { q: "L·ªãch n√†o d√†i nh·∫•t?", a: ["L·ªãch s·ª≠", "L·ªãch v·∫°n ni√™n", "L·ªãch treo t∆∞·ªùng", "L·ªãch ngh·ªâ t·∫øt"], c: 0, e: "L·ªãch s·ª≠ d√†i m·∫•y ng√†n nƒÉm l·∫≠n." },
            { q: "Con ch√≥ ƒëen ng∆∞·ªùi ta g·ªçi l√† con ch√≥ m·ª±c. Con ch√≥ v√†ng, ng∆∞·ªùi ta g·ªçi l√† con ch√≥ ph√®n. Con ch√≥ sanh ng∆∞·ªùi ta g·ªçi l√† con ch√≥ ƒë·∫ª. V·∫≠y con ch√≥ ƒë·ªè, ng∆∞·ªùi ta g·ªçi l√† con ch√≥ g√¨?", a: ["Ch√≥ ƒë·ªè", "Ch√≥ ƒëi√™n", "Ch√≥ l·ª≠a", "Ch√≥ ch·∫øt"], c: 0, e: "G·ªçi l√† con ch√≥ ƒë·ªè th√¥i, b·ªã l·ª´a ch∆∞a :v" },
            { q: "S·ªü th√∫ b·ªã ch√°y, con g√¨ ch·∫°y ra ƒë·∫ßu ti√™n?", a: ["Con chim", "Con voi", "Con r·∫Øn", "Con ng∆∞·ªùi"], c: 3, e: "Con ng∆∞·ªùi ch·∫°y l·∫π nh·∫•t ch·ª© c√≤n ai!" },
            { q: "N∆°i n√†o c√≥ ƒë∆∞·ªùng x√°, nh∆∞ng kh√¥ng c√≥ xe c·ªô; c√≥ nh√† ·ªü, nh∆∞ng kh√¥ng c√≥ ng∆∞·ªùi; c√≥ si√™u th·ªã, c√¥ng ty... nh∆∞ng kh√¥ng c√≥ h√†ng h√≥a... ƒê√≥ l√† n∆°i n√†o?", a: ["Th√†nh ph·ªë ma", "B·∫£n ƒë·ªì", "Sao Ho·∫£", "Trong m∆°"], c: 1, e: "B·∫£n ƒë·ªì gi·∫•y ƒë√≥." },
            { q: "C√°i g√¨ ng∆∞·ªùi mua bi·∫øt, ng∆∞·ªùi b√°n bi·∫øt, ng∆∞·ªùi x√†i kh√¥ng bao gi·ªù bi·∫øt?", a: ["Ti·ªÅn gi·∫£", "Quan t√†i", "B√≠ m·∫≠t", "ƒê·ªì ƒÉn"], c: 1, e: "Ng∆∞·ªùi n·∫±m trong quan t√†i sao bi·∫øt ƒë∆∞·ª£c!" },
            { q: "Hai ng∆∞·ªùi ƒë√†o trong hai gi·ªù th√¨ ƒë∆∞·ª£c m·ªôt c√°i h·ªë. V·∫≠y h·ªèi m·ªôt ng∆∞·ªùi ƒë√†o trong m·ªôt gi·ªù th√¨ ƒë∆∞·ª£c m·∫•y c√°i h·ªë?", a: ["1", "0.5", "2", "Kh√¥ng c√≥ c√°i n√†o"], c: 0, e: "H·ªë nh·ªè v·∫´n l√† 1 c√°i h·ªë!" },
            { q: "C√°i g√¨ ƒë√°nh cha, ƒë√°nh m√°, ƒë√°nh anh, ƒë√°nh ch·ªã, ƒë√°nh em?", a: ["C√¢y g·∫≠y", "B√†n ch·∫£i ƒë√°nh rƒÉng", "S√≥ng th·∫ßn", "V√µ sƒ© quy·ªÅn anh"], c: 1, e: "ƒê√°nh rƒÉng h√†ng ng√†y ƒë√≥!" },

            // Kh√≥ (21-40) - IQ/Trick/New
            { q: "Khi Beckham th·ª±c hi·ªán qu·∫£ ƒë√° ph·∫°t ƒë·ªÅn, anh ta s·∫Ω s√∫t v√†o ƒë√¢u?", a: ["G√≥c tr√°i", "G√≥c ph·∫£i", "Th·ªß m√¥n", "Qu·∫£ b√≥ng"], c: 3, e: "S√∫t v√†o qu·∫£ b√≥ng ch·ª© s√∫t v√†o ƒë√¢u m·ªõi bay ƒë∆∞·ª£c!" },
            { q: "C√≥ 1 b√† gi√† ƒëi ch·ª£, g·∫∑p 1 con c√≤ l√πi. H·ªèi t·∫°i sao b√† ·∫•y quay v·ªÅ?", a: ["Qu√™n ti·ªÅn", "Th·∫•y ƒëi·ªÅm g·ªü", "C√≤ l√πi l√† c√≤ kh√¥ng ti·∫øn", "Tr·ªùi m∆∞a"], c: 2, e: "C√≤ l√πi = C√≤ kh√¥ng ti·∫øn = Ti·ªÅn kh√¥ng c√≥." },
            { q: "B√™n tr√°i ƒë∆∞·ªùng c√≥ m·ªôt cƒÉn nh√† xanh, b√™n ph·∫£i ƒë∆∞·ªùng c√≥ m·ªôt cƒÉn nh√† ƒë·ªè. V·∫≠y, nh√† tr·∫Øng ·ªü ƒë√¢u?", a: ["·ªû gi·ªØa", "Sau l∆∞ng", "·ªû M·ªπ", "Kh√¥ng c√≥"], c: 2, e: "Nh√† Tr·∫Øng (White House) ·ªü Washington, M·ªπ." },
            { q: "L√†m th·∫ø n√†o ƒë·ªÉ nh·ªët 10 con tr√¢u v√†o 9 c√°i chu·ªìng m√† m·ªói chu·ªìng v·∫´n c√≥ 1 con tr√¢u?", a: ["Kh√¥ng th·ªÉ", "Nh·ªët 2 con 1 chu·ªìng", "X√¢y th√™m chu·ªìng", "M·∫πo ch·ªØ"], c: 3, e: "Nh·ªët v√†o chu·ªìng ch·ªØ 'K-H-√î-N-G' 'C-√ì'..." },
            { q: "C√≥ bao nhi√™u ch·ªØ C trong c√¢u sau: 'C∆°m, canh, ch√°o g√¨ t·ªõ c≈©ng th√≠ch ƒÉn!'", a: ["1", "2", "3", "4"], c: 0, e: "Ch·ªØ C in hoa ch·ªâ c√≥ 1 ·ªü ƒë·∫ßu c√¢u th√¥i!" },
            { q: "C√°i g√¨ l∆∞·ª°i to h∆°n mi·ªáng, m√©p d√†i h∆°n r√¢u. Khi vui th√¨ n√≥i c∆∞·ªùi √¢u, khi bu·ªìn l·∫°i kh√≥c ch·∫≥ng s·∫ßu ch·∫≥ng lo?", a: ["C√°i n√≥n", "C√°i m·∫∑t n·∫°", "Con ƒë√≤", "C√°i ƒë√†n"], c: 0, e: "C√°i n√≥n (L∆∞·ª°i trai, Quai n√≥n)." },
            { q: "M·ªôt k·∫ª gi·∫øt ng∆∞·ªùi b·ªã k·∫øt √°n t·ª≠ h√¨nh. H·∫Øn ta ph·∫£i ch·ªçn m·ªôt trong ba cƒÉn ph√≤ng: Ph√≤ng th·ª© nh·∫•t l·ª≠a ch√°y d·ªØ d·ªôi, Ph√≤ng th·ª© hai ƒë·∫ßy nh·ªØng k·∫ª √°m s√°t ƒëang gi∆∞∆°ng s√∫ng, v√† Ph√≤ng th·ª© ba ƒë·∫ßy s∆∞ t·ª≠ nh·ªãn ƒë√≥i trong ba nƒÉm. Ph√≤ng n√†o an to√†n nh·∫•t cho h·∫Øn?", a: ["Ph√≤ng 1", "Ph√≤ng 2", "Ph√≤ng 3", "Kh√¥ng ph√≤ng n√†o"], c: 2, e: "S∆∞ t·ª≠ nh·ªãn ƒë√≥i 3 nƒÉm ch·∫øt queo r·ªìi." },
            { q: "C∆° quan quan tr·ªçng nh·∫•t c·ªßa ph·ª• n·ªØ l√† g√¨?", a: ["Tr√°i tim", "B·ªô n√£o", "H·ªôi Li√™n Hi·ªáp Ph·ª• N·ªØ", "ƒê√¥i m·∫Øt"], c: 2, e: "H·ªôi Li√™n Hi·ªáp Ph·ª• N·ªØ VN :))" },
            { q: "A g·ªçi B b·∫±ng b√°c, B g·ªçi C l√† √¥ng n·ªôi, C k√™u D l√† c·∫≠u, D k√™u E l√† d√¨, E k√™u F l√† ch√∫, F g·ªçi Z l√† con. H·ªèi A g·ªçi Z b·∫±ng g√¨?", a: ["B·∫±ng m·ªìm", "√îng c·ªë", "C·ª• t·ªï", "D√¨ gh·∫ª"], c: 0, e: "G·ªçi b·∫±ng m·ªìm ch·ª© b·∫±ng g√¨!" },
            { q: "N·∫Øng ba nƒÉm t√¥i kh√¥ng b·ªè b·∫°n, m∆∞a m·ªôt ng√†y b·∫°n l·∫°i b·ªè t√¥i. L√† c√°i g√¨?", a: ["Ng∆∞·ªùi y√™u c≈©", "C√°i b√≥ng", "ƒê√¥i gi√†y", "C√°i d√π"], c: 1, e: "C√°i b√≥ng c·ªßa b·∫°n ƒë√≥." },

            // New Addition
            { q: "Con g√¨ ƒë·∫≠p th√¨ s·ªëng, kh√¥ng ƒë·∫≠p th√¨ ch·∫øt?", a: ["Con c√°", "Con tim", "Con quay", "Con mu·ªói"], c: 1, e: "Tim kh√¥ng ƒë·∫≠p l√† t√®o r·ªìi." },
            { q: "Bi·ªÉn n√†o kh√¥ng c√≥ n∆∞·ªõc?", a: ["Bi·ªÉn ch·∫øt", "Bi·ªÉn b√°o", "Bi·ªÉn ƒê√¥ng", "Bi·ªÉn h·ªì"], c: 1, e: "Bi·ªÉn b√°o giao th√¥ng l√†m g√¨ c√≥ n∆∞·ªõc." },
            { q: "X√£ n√†o ƒë√¥ng nh·∫•t?", a: ["X√£ h·ªôi", "X√£ ƒë√†n", "Ph∆∞·ªùng x√£", "Th·ªã x√£"], c: 0, e: "X√£ h·ªôi bao g·ªìm t·∫•t c·∫£ m·ªçi ng∆∞·ªùi." },
            { q: "Qu·∫ßn g√¨ r·ªông nh·∫•t?", a: ["Qu·∫ßn b√≤", "Qu·∫ßn ƒë·∫£o", "Qu·∫ßn t·ª•", "Qu·∫ßn ch√∫ng"], c: 1, e: "Qu·∫ßn ƒë·∫£o ch·ª©a nhi·ªÅu ƒë·∫£o, r·ªông l·∫Øm." },
            { q: "C√°i g√¨ c√†ng k√©o c√†ng ng·∫Øn?", a: ["S·ª£i d√¢y", "Cu·ªôc ƒë·ªùi", "ƒêi·∫øu thu·ªëc", "C√¢y k·∫πo cao su"], c: 2, e: "H√∫t thu·ªëc l√° th√¨ n√≥ ng·∫Øn ƒëi." },
            { q: "Con g√¨ sinh ra ƒë√£ l√† vua?", a: ["Con cua ho√†ng ƒë·∫ø", "Con c√° s·∫•u", "Con s√≥i", "Con vua"], c: 0, e: "Cua 'Ho√†ng ƒê·∫ø' m√†." },
            { q: "Hoa g√¨ bi·∫øt ƒÉn, bi·∫øt n√≥i, bi·∫øt h√°t?", a: ["Hoa s√∫ng", "Hoa h·∫≠u", "Hoa h·ªìng", "Hoa lan"], c: 1, e: "C√¥ Hoa h·∫≠u ng∆∞·ªùi th·∫≠t vi·ªác th·∫≠t." },
            { q: "C√°i g√¨ ƒëi th√¨ n·∫±m, ƒë·ª©ng c≈©ng n·∫±m, nh∆∞ng n·∫±m l·∫°i ƒë·ª©ng?", a: ["Con r·∫Øn", "B√†n ch√¢n", "C√°i v√µng", "C√¢y b√∫t"], c: 1, e: "B√†n ch√¢n c·ªßa ch√∫ng ta." },
            { q: "L√†m sao ƒë·ªÉ c√°i c√¢n t·ª± c√¢n ch√≠nh n√≥?", a: ["ƒê·∫∑t l√™n c√°i c√¢n kh√°c", "L·∫≠t ng∆∞·ª£c l·∫°i", "Kh√¥ng th·ªÉ", "Chi·∫øu g∆∞∆°ng"], c: 1, e: "L·∫≠t ng∆∞·ª£c c√°i c√¢n l·∫°i th√¨ m√¢m c√¢n s·∫Ω ƒë√® l√™n th√¢n c√¢n :v (M·∫πo vui)" }
        ];

        let idx = 0;
        let score = 0;
        let canAns = true;
        let currQ = null;
        const PRIZES = [
            200, 400, 600, 1000, 2000,
            3000, 6000, 10000, 14000, 22000,
            30000, 40000, 60000, 85000, 150000
        ];

        const UI = {
            qText: document.getElementById("qText"),
            btns: document.querySelectorAll(".answer-btn"),
            feedback: document.getElementById("feedback"),
            status: document.getElementById("statusText"),
            controls: document.getElementById("controls"),
            btnNext: document.getElementById("btnNext"),
            ladder: document.getElementById("ladderList"),
            sfx: {
                correct: document.getElementById("sfxCorrect"),
                wrong: document.getElementById("sfxWrong"),
                win: document.getElementById("sfxWin"),
            }
        };

        function playSound(type) {
            UI.sfx[type].currentTime = 0;
            UI.sfx[type].play().catch(e => console.log("Audio play failed (user interaction needed)", e));
        }

        // Generate Ladder
        function renderLadder() {
            UI.ladder.innerHTML = "";
            for (let i = 14; i >= 0; i--) {
                const li = document.createElement("li");
                li.innerHTML = `<span class="num">${i + 1}</span> <span class="val">$${PRIZES[i].toLocaleString()}</span>`;
                if (i === idx) li.className = "active";
                else if (i < idx) li.className = "passed";

                // Risk levels
                if (i === 4 || i === 9 || i === 14) li.style.color = "#fff";
                UI.ladder.appendChild(li);
            }
        }

        function loadQ() {
            if (idx >= 15) {
                win();
                return;
            }

            renderLadder();

            // Pseudo random difficulty mapping
            let bankIdx = (idx * 2) + (Math.floor(Math.random() * 2));
            if (bankIdx >= BANK.length) bankIdx = Math.floor(Math.random() * BANK.length);

            currQ = BANK[bankIdx];
            canAns = true;

            UI.qText.textContent = currQ.q;
            UI.status.textContent = `C√¢u h·ªèi ${idx + 1}`;

            UI.feedback.textContent = "";
            UI.feedback.className = "feedback";
            UI.controls.style.display = "none";

            UI.btns.forEach((b, i) => {
                const spanOpt = b.querySelector(".opt");
                const spanTxt = b.querySelector(".txt");
                if (!spanOpt) b.innerHTML = `<span class="opt">${String.fromCharCode(65 + i)}</span> <span class="txt">${currQ.a[i]}</span>`; // fix if overwritten
                else spanTxt.textContent = currQ.a[i];

                b.className = "answer-btn";
                b.disabled = false;
                b.classList.remove("correct", "wrong");
            });
        }

        function selectAnswer(i) {
            if (!canAns) return;
            canAns = false;

            const correct = currQ.c;
            const btn = UI.btns[i];

            if (i === correct) {
                btn.classList.add("correct");
                UI.feedback.textContent = "Ch√≠nh x√°c! " + currQ.e;
                UI.feedback.classList.add("success");
                score++;
                playSound("correct");
            } else {
                btn.classList.add("wrong");
                UI.btns[correct].classList.add("correct");
                UI.feedback.textContent = "Sai r·ªìi! " + currQ.e;
                UI.feedback.classList.add("fail");
                playSound("wrong");
            }

            UI.controls.style.display = "block";

            if (i === correct) {
                if (idx === 14) {
                    UI.btnNext.textContent = "NH·∫¨N GI·∫¢I üèÜ";
                    UI.btnNext.onclick = win;
                } else {
                    UI.btnNext.textContent = "C√¢u ti·∫øp theo ‚ûú";
                    UI.btnNext.onclick = next;
                }
            } else {
                UI.btnNext.textContent = "Ch∆°i l·∫°i ‚Ü∫";
                UI.btnNext.onclick = restart;
            }
        }

        function next() {
            idx++;
            loadQ();
        }

        function restart() {
            idx = 0;
            score = 0;
            loadQ();
        }

        function win() {
            playSound("win");
            UI.qText.innerHTML = "üèÜ CH√öC M·ª™NG B·∫†N L√Ä TRI·ªÜU PH√ö! üèÜ<br><br>B·∫°n ƒë√£ tr·∫£ l·ªùi ƒë√∫ng 15/15 c√¢u h·ªèi.";
            UI.controls.style.display = "block";
            UI.btnNext.textContent = "Ch∆°i l·∫°i ‚Ü∫";
            UI.btnNext.onclick = restart;
            UI.status.textContent = "CHI·∫æN TH·∫ÆNG";
            UI.feedback.textContent = "";
            renderLadder(); // update to show top reached
            const topLi = UI.ladder.querySelector("li");
            if (topLi) topLi.classList.add("active");

            // Hide answers to show celebration clearly
            const ansGrid = document.getElementById("answersGrid");
            if (ansGrid) ansGrid.style.display = "none";
        }

        // Init
        loadQ();
        window.selectAnswer = selectAnswer;
    </script>
</body>

</html>